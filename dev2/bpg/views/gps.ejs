<!doctype html>
<html lang="en">

  <head>
    <title>Bar Praia</title>
    <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.slim.min.js"/>
    <link rel="stylesheet" type="text/css" href="//stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="//stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"/>
    <link rel='stylesheet' href='index.css' />
  </head>

<!--   <style>
  #map {
    height: 400px;
    width: 100%;
  }
  </style>
 -->

 <body>

   <div id="demo"></div>

  <div id="mapholder"></div>

  <script src="https://maps.google.com/maps/api/js?key=xxxxxxxxxxxxxxxxxxxxxxxx"></script>


<script>

var xdemo = document.getElementById("demo");
var xmap  = document.getElementById("mapholder");

function getLocation() {
    
    console.log("getLocation()" );

    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
        navigator.geolocation.watchPosition(showPosition2);
    } else {
        xdemo.innerHTML = "Geolocation is not supported by this browser.";
    }
}


function showPosition(position) {
    xdemo.innerHTML = "Latitude: " + position.coords.latitude +  "<br>Longitude: " + position.coords.longitude; 
    console.log("showPosition - Latitude:[" + position.coords.latitude +  "] Longitude:[" + position.coords.longitude+"]" );
}


function showPosition2(position) {
  var latlon  = position.coords.latitude + "," + position.coords.longitude;
  var img_url = "https://maps.googleapis.com/maps/api/staticmap?center= "+latlon+"&zoom=14&size=400x300&sensor=false&key=YOUR_:KEY";
  xmap.innerHTML = "<img src='"+img_url+"'>";
  console.log("showPosition - Latitude:[" + position.coords.latitude +  "] Longitude:[" + position.coords.longitude+"]" );
}

getLocation();

</script>


 <script>

    // function showError(error) {
    //   switch(error.code) {
    //     case error.PERMISSION_DENIED    : x.innerHTML = "User denied the request for Geolocation."    break;
    //     case error.POSITION_UNAVAILABLE : x.innerHTML = "Location information is unavailable."        break;
    //     case error.TIMEOUT              : x.innerHTML = "The request to get user location timed out." break;
    //     case error.UNKNOWN_ERROR        : x.innerHTML = "An unknown error occurred."                  break;
    //   }
    // }

</script>



    <!--Load the API from the specified URL
    * The async attribute allows the browser to render the page while the API loads
    * The key parameter will contain your own API key (which is not needed for this tutorial)
    * The callback parameter executes the initMap() function
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap"></script>
    -->

    <script async defer src="https://maps.googleapis.com/maps/api/js?callback=initMap"></script>


</body>

</html>
